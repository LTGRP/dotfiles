# Have these files in the .mutt directory:
#
# .imap_host	imap hostname
# .pass		password for imap and smtp (assumes same)
# .realname	real name
# .smtp_host	smtp hostname
# .user		username for imap and smtp (assumes same)

# Setup send/receive
set ssl_starttls=yes
set ssl_force_tls=yes
set imap_user = "`cat ~/.mutt/.user`"
set imap_pass = "`cat ~/.mutt/.pass`"
set from = "`cat ~/.mutt/.user`"
set realname = "`cat ~/.mutt/.realname`"
set folder = "imaps://`cat ~/.mutt/.imap_host`"
set spoolfile = "imaps://`cat ~/.mutt/.user`:`cat ~/.mutt/.pass`@`cat ~/.mutt/.imap_host`"
set postponed="imaps://`cat ~/.mutt/.imap_host`/Drafts"
set header_cache = "~/.mutt/cache/headers"
set message_cachedir = "~/.mutt/cache/bodies"
set certificate_file = "~/.mutt/certificates"
set smtp_url = "smtp://`cat ~/.mutt/.user`:`cat ~/.mutt/.pass`@`cat ~/.mutt/.smtp_host`"
set move = no
set imap_keepalive = 900
set timeout = 60


#
# Key bindings
# 
# Index refresh
bind index G imap-fetch-mail
# Pager behave as less
bind pager <up> previous-line 
bind pager <down> next-line
# Move delete to 'D' and set up 'a' for archive
bind index,pager d noop #get rid of delete, all archive
bind index,pager D "delete-message"
macro index,pager a "<save-message>=Archives/2017<enter>" "Archive Message"

#
# Misc Settings
#
# Suppres ui pausing
# Don't ask for confirm when moving a message to a folder
set confirmappend = "no"
# Copy sent messages
set copy = "yes"
# Do not prompt to confirm delete at exit
set delete = "yes"
# Include message in reply
set include
# How to show messages in index view
set index_format = "%4C %Z %[%I:%M %p %d %b%y] %-15.15L (%?l?%4l&%4c?) %?X?A&-? %s"
# Do not prompt about resuming drafts when starting a new message
set recall = "no"
# Copy send messages here
set record = "+/Sent"
# Do not wait for sendmail
set sendmail_wait = -1
# Do not pause ui things
set sleep_time = 0
# Long line pain
set smart_wrap
# Sorting
set sort = "threads"
set sort_aux = "reverse-last-date-received"
set sort_browser = "reverse-date"

#
# Html
#
alternative_order text/plain text/enriched text/html
auto_view text/x-vcard text/html text/enriched
# Ctrl+b to open html email in w3m
macro index,pager \cb ": unset wait_key; set pipe_decode\n|w3m\n: set wait_key; unset pipe_decode\n" "call w3m to extract URLs out of a message"

#
# Themes/color
# source ~/.mutt/mutt-colors-solarized-light-16.muttrc
source ~/.mutt/mutt-colors-solarized-light-16.muttrc






